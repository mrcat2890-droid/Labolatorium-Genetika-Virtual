<!DOCTYPE html>
<html lang="id" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEN-K: Ultimate Karyotype Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        bio: { dark: '#000000', panel: '#0a0a0a', cyan: '#00f0ff', alert: '#ff2a6d', warn: '#ffae00', purple: '#d600ff' }
                    },
                    fontFamily: {
                        mono: ['Space Mono', 'monospace'],
                        sans: ['Inter', 'sans-serif'],
                        display: ['Orbitron', 'sans-serif']
                    },
                    animation: {
                        'float': 'float 4s ease-in-out infinite',
                        'jitter': 'jitter 0.2s infinite',
                        'pulse-fast': 'pulse 0.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'mitosis': 'mitosis 2s infinite ease-in-out',
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        jitter: { '0%, 100%': { transform: 'translate(0,0)' }, '25%': { transform: 'translate(1px,1px)' }, '75%': { transform: 'translate(-1px,-1px)' } },
                        mitosis: { '0%': { width: '20px' }, '50%': { width: '50px', gap: '10px' }, '100%': { width: '20px' } }
                    }
                }
            }
        }
    </script>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@400;700;900&family=Orbitron:wght@500;700;900&display=swap"
        rel="stylesheet">
    <style>
        body {
            background-color: #050505;
            background-image:
                linear-gradient(rgba(0, 240, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 240, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            color: #e2e8f0;
        }

        /* Glassmorphism High Tech */
        .glass-panel {
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
        }

        /* Chromosome SVG Styles */
        .chromo-svg {
            filter: drop-shadow(0 0 5px currentColor);
        }

        /* Interactive Buttons */
        .tech-btn {
            background: #0f0f0f;
            border: 1px solid #333;
            color: #666;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .tech-btn:hover,
        .tech-btn.active {
            border-color: var(--color);
            color: var(--color);
            background: rgba(0, 0, 0, 0.5);
            box-shadow: inset 0 0 15px var(--glow);
            text-shadow: 0 0 8px var(--color);
        }

        .tech-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: 0.5s;
        }

        .tech-btn:hover::after {
            left: 100%;
        }

        /* Citation Tooltip */
        .citation {
            border-bottom: 1px dotted #00f0ff;
            cursor: help;
            color: #00f0ff;
        }

        .citation:hover::after {
            content: attr(data-ref);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            color: #fff;
            padding: 12px;
            font-size: 0.7rem;
            border: 1px solid #333;
            width: 300px;
            z-index: 100;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 1);
            margin-bottom: 10px;
        }

        /* Microscope Overlay */
        .microscope-lens {
            background: radial-gradient(circle at center, transparent 50%, #000 120%);
            pointer-events: none;
        }

        .scan-line {
            height: 2px;
            width: 100%;
            background: #00f0ff;
            box-shadow: 0 0 20px #00f0ff;
            opacity: 0.5;
            position: absolute;
            top: 0;
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            0% {
                top: 0%
            }

            100% {
                top: 100%
            }
        }

        /* Loading Cell Division */
        .cell-division {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid #00f0ff;
            box-shadow: 0 0 20px #00f0ff;
            position: relative;
            animation: cell-split 2s infinite ease-in-out alternate;
        }

        .cell-nucleus {
            width: 20px;
            height: 20px;
            background: #00f0ff;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px #00f0ff;
        }

        @keyframes cell-split {
            0% {
                width: 60px;
                border-radius: 50%;
            }

            50% {
                width: 100px;
                border-radius: 40px;
            }

            100% {
                width: 120px;
                border-radius: 30px;
                opacity: 0.5;
            }
        }

        @media print {
            .no-print {
                display: none;
            }
        }
    </style>
</head>

<body class="min-h-screen p-4 pb-20 font-sans selection:bg-bio-cyan selection:text-black">

    <header class="max-w-7xl mx-auto flex justify-between items-end mb-8 pt-4 border-b border-gray-800 pb-4 no-print">
        <div>
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-bio-alert rounded-full animate-pulse"></div>
                <h1 class="text-4xl font-display font-bold text-white tracking-tighter">GEN-<span
                        class="text-bio-cyan">K</span> <span class="text-sm text-gray-500 font-mono">ULTIMATE</span>
                </h1>
            </div>
            <p class="text-xs text-bio-purple font-mono mt-1 tracking-[0.4em] uppercase">Digital Karyotyping System v5.0
            </p>
        </div>
        <div class="text-right font-mono text-[10px] text-gray-500 hidden sm:block">
            <p>CONNECTED TO: <span class="text-bio-cyan">LAB-SERVER-01</span></p>
            <p>DATABASE: <span class="text-bio-cyan">HUMAN_GENOME_HG38</span></p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8">

        <div class="lg:col-span-4 space-y-6">
            <div class="glass-panel rounded-none border-l-4 border-bio-cyan p-6 relative group no-print">
                <div
                    class="absolute right-0 top-0 p-2 opacity-20 group-hover:opacity-100 transition text-bio-cyan font-display text-6xl font-bold pointer-events-none">
                    01</div>

                <div class="mb-8">
                    <label class="text-[10px] text-gray-400 font-mono mb-3 block uppercase">Target Autosome /
                        Gonosome</label>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="setChromo('1')" id="btn-c-1" class="tech-btn py-3 font-bold font-display"
                            style="--color: #ff2a6d; --glow: rgba(255, 42, 109, 0.3)">CHR 1</button>
                        <button onclick="setChromo('3')" id="btn-c-3" class="tech-btn py-3 font-bold font-display"
                            style="--color: #ff2a6d; --glow: rgba(255, 42, 109, 0.3)">CHR 3</button>

                        <button onclick="setChromo('13')" id="btn-c-13" class="tech-btn py-3 font-bold font-display"
                            style="--color: #ffae00; --glow: rgba(255, 174, 0, 0.3)">CHR 13</button>
                        <button onclick="setChromo('18')" id="btn-c-18" class="tech-btn py-3 font-bold font-display"
                            style="--color: #ffae00; --glow: rgba(255, 174, 0, 0.3)">CHR 18</button>
                        <button onclick="setChromo('21')" id="btn-c-21"
                            class="tech-btn py-3 font-bold font-display active"
                            style="--color: #00f0ff; --glow: rgba(0, 240, 255, 0.3)">CHR 21</button>
                        <button onclick="setChromo('X')" id="btn-c-X" class="tech-btn py-3 font-bold font-display"
                            style="--color: #d600ff; --glow: rgba(214, 0, 255, 0.3)">SEX (X)</button>
                    </div>
                </div>

                <div class="mb-8">
                    <label class="text-[10px] text-gray-400 font-mono mb-3 block uppercase">Allele Count
                        (Ploidy)</label>
                    <div class="flex gap-1 bg-gray-900 p-1 border border-gray-800">
                        <button onclick="setCopy(1)" id="btn-n-1"
                            class="tech-btn flex-1 py-2 text-sm font-bold font-mono"
                            style="--color: #ffae00; --glow: rgba(255, 174, 0, 0.3)">1 (MONO)</button>
                        <button onclick="setCopy(2)" id="btn-n-2"
                            class="tech-btn flex-1 py-2 text-sm font-bold font-mono active"
                            style="--color: #00f0ff; --glow: rgba(0, 240, 255, 0.3)">2 (DI)</button>
                        <button onclick="setCopy(3)" id="btn-n-3"
                            class="tech-btn flex-1 py-2 text-sm font-bold font-mono"
                            style="--color: #ff2a6d; --glow: rgba(255, 42, 109, 0.3)">3 (TRI)</button>
                    </div>
                </div>

                <button onclick="runSimulation()"
                    class="w-full py-4 bg-bio-cyan text-black font-bold font-display text-lg hover:bg-white transition shadow-[0_0_30px_rgba(0,240,255,0.4)] tracking-widest clip-path-slant">
                    INITIATE SCAN
                </button>
            </div>

            <div id="monitor-panel" class="glass-panel p-6 hidden">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-[10px] font-mono text-gray-500">LETHALITY INDEX</span>
                    <span id="lethality-val" class="text-2xl font-display font-bold text-bio-alert">0%</span>
                </div>
                <div class="w-full h-2 bg-gray-800 overflow-hidden">
                    <div id="lethality-bar" class="h-full bg-bio-alert w-0 transition-all duration-1000 relative">
                        <div class="absolute inset-0 bg-white/30 animate-pulse"></div>
                    </div>
                </div>
                <div class="mt-4 grid grid-cols-2 gap-4">
                    <div>
                        <p class="text-[10px] text-gray-500 font-mono">LIFE EXPECTANCY</p>
                        <p id="life-exp" class="text-sm font-bold text-white">Unknown</p>
                    </div>
                    <div>
                        <p class="text-[10px] text-gray-500 font-mono">MUTATION TYPE</p>
                        <p id="mut-type" class="text-sm font-bold text-bio-cyan">Aneuploidy</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="lg:col-span-8 space-y-6">

            <div class="glass-panel p-1 relative h-[400px] border border-gray-800 overflow-hidden">
                <div id="loader"
                    class="absolute inset-0 z-50 bg-black flex flex-col items-center justify-center hidden">
                    <div class="cell-division mb-6">
                        <div class="cell-nucleus"></div>
                    </div>
                    <div class="text-bio-cyan font-display tracking-widest animate-pulse">MITOSIS IN PROGRESS</div>
                    <div class="text-xs text-gray-600 font-mono mt-2">Separating Sister Chromatids...</div>
                </div>

                <div id="microscope"
                    class="w-full h-full bg-black relative flex items-center justify-center overflow-hidden">
                    <div class="absolute inset-0 grid grid-cols-12 grid-rows-6 opacity-10 pointer-events-none">
                        <div class="border border-bio-cyan/20 w-full h-full col-span-12 row-span-6"></div>
                    </div>
                    <div class="scan-line hidden" id="scan-line"></div>

                    <div id="chromo-stage" class="flex gap-8 md:gap-16 z-10 relative"></div>

                    <div class="absolute top-4 left-4 text-[10px] font-mono text-bio-cyan/50">
                        ZOOM: 2000x<br>STAIN: GIEMSA
                    </div>
                    <div class="absolute bottom-4 right-4 text-[10px] font-mono text-bio-alert animate-pulse hidden"
                        id="alert-msg">
                        âš  KARYOTYPE ABNORMALITY DETECTED
                    </div>
                </div>
                <div class="microscope-lens absolute inset-0 pointer-events-none"></div>
            </div>

            <div id="report-card" class="glass-panel p-8 hidden border-t-2 border-bio-cyan">
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <h2 class="text-3xl font-display font-bold text-white mb-1" id="syn-name">ANALYSIS READY</h2>
                        <p class="text-xs font-mono text-bio-purple" id="syn-karyotype">46, XX</p>
                    </div>
                    <div class="text-right">
                        <span class="text-[10px] font-mono text-gray-500 block">CLASSIFICATION</span>
                        <span class="text-lg font-bold text-white" id="syn-class">AUTOSOMAL</span>
                    </div>
                </div>

                <div class="space-y-6 font-sans text-sm text-gray-300 leading-relaxed">
                    <div>
                        <h4 class="text-bio-cyan font-bold text-xs tracking-widest mb-2">DIAGNOSA KLINIS</h4>
                        <p id="desc-clinical">...</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-bio-warn font-bold text-xs tracking-widest mb-2">MEKANISME MUTASI</h4>
                            <p id="desc-mech">...</p>
                        </div>
                        <div>
                            <h4 class="text-bio-alert font-bold text-xs tracking-widest mb-2">PROGNOSIS & DAMPAK</h4>
                            <p id="desc-prog">...</p>
                        </div>
                    </div>
                </div>

                <div
                    class="mt-8 pt-4 border-t border-gray-800 flex justify-between items-center text-[10px] font-mono text-gray-600">
                    <span>REF: THOMPSON & THOMPSON GENETICS, ED.8</span>
                    <span>APPROVED BY: DR. GEN-K AI</span>
                </div>
            </div>

        </div>
    </main>

    <script>
        // --- DATA PENGETAHUAN (DATABASE) ---
        const database = {
            '1': { // KROMOSOM 1 (LETHAL)
                1: {
                    name: 'MONOSOMI 1', karyo: '45, XX, -1', class: 'LETHAL AUTOSOMAL', severe: 100, exp: 'Gagal tumbuh (Embrio)',
                    clinical: 'Kromosom 1 adalah kromosom terbesar manusia, mengandung >2000 gen (~8% total DNA). Kehilangan satu salinan (Monosomi) menyebabkan hilangnya instruksi vital untuk pembentukan organ dasar.',
                    mech: 'Terjadi akibat <span class="citation" data-ref="Kegagalan kromosom homolog untuk memisah saat meiosis (pembentukan gamet).">Non-Disjunction Total</span>. Zigot tidak memiliki informasi genetik yang cukup untuk pembelahan sel awal.',
                    prog: 'Inkompatibel dengan kehidupan. Selalu berakhir dengan abortus spontan (keguguran) pada trimester pertama.'
                },
                2: { name: 'NORMAL (DISOMI 1)', karyo: '46, XX', class: 'EUPOLOID', severe: 0, exp: 'Normal', clinical: 'Kondisi genetik normal. Tidak ada kelainan.', mech: '-', prog: 'Sehat.' },
                3: {
                    name: 'TRISOMI 1', karyo: '47, XX, +1', class: 'LETHAL AUTOSOMAL', severe: 100, exp: 'Gagal tumbuh (Embrio)',
                    clinical: 'Kelebihan materi genetik dari kromosom terbesar menyebabkan kekacauan ekspresi gen yang masif. Tubuh tidak dapat mengatur dosis protein yang dihasilkan oleh 3 salinan gen.',
                    mech: 'Non-Disjunction pada Meiosis I atau II. Menyebabkan <span class="citation" data-ref="Ketidakseimbangan jumlah gen yang parah (Gene Dosage Effect).">Over-ekspresi Gen</span> fatal.',
                    prog: 'Selalu letal pada tahap embrional awal. Tidak pernah ditemukan pada kelahiran hidup.'
                }
            },
            '3': { // KROMOSOM 3 (LETHAL)
                1: { name: 'MONOSOMI 3', severe: 100, exp: 'Lethal', clinical: 'Kehilangan kromosom besar (Metasentrik). Tidak ada janin yang bertahan hidup.', mech: 'Non-disjunction.', prog: 'Abortus spontan.' },
                2: { name: 'NORMAL (DISOMI 3)', severe: 0, exp: 'Normal', clinical: 'Normal.', mech: '-', prog: 'Sehat.' },
                3: {
                    name: 'TRISOMI 3', severe: 99, exp: 'Lethal (Lahir Mati)',
                    clinical: 'Sangat jarang ditemukan pada kelahiran hidup. Jika lahir, bayi memiliki malformasi wajah parah (dismorfik), kelainan jantung, dan gagal napas.',
                    mech: 'Non-disjunction kromosom autosom besar.',
                    prog: 'Kematian terjadi dalam beberapa jam atau hari setelah lahir. Mosaikisme (hanya sebagian sel yang trisomi) mungkin bertahan lebih lama.'
                }
            },
            '13': { // PATAU
                1: { name: 'MONOSOMI 13', severe: 100, exp: 'Lethal', clinical: 'Fatal pada embrio.', mech: 'Nondisjunction.', prog: 'Abortus spontan.' },
                2: { name: 'NORMAL', severe: 0, exp: 'Normal', clinical: 'Normal.', mech: '-', prog: 'Sehat.' },
                3: {
                    name: 'SINDROM PATAU', karyo: '47, XX, +13', severe: 95, exp: '< 1 Minggu',
                    clinical: 'Kelainan berat berupa <strong>Holoprosencephaly</strong> (otak depan tidak membelah), bibir sumbing parah (cleft palate), mata kecil (mikroftalmia), dan jari berlebih (polidaktili).',
                    mech: 'Non-disjunction maternal pada kromosom 13 (Akrosentrik). Risiko meningkat seiring usia ibu.',
                    prog: 'Sangat buruk. >80% bayi meninggal di bulan pertama akibat gagal jantung atau napas.'
                }
            },
            '18': { // EDWARDS
                1: { name: 'MONOSOMI 18', severe: 100, exp: 'Lethal', clinical: 'Fatal.', mech: '-', prog: 'Abortus.' },
                2: { name: 'NORMAL', severe: 0, exp: 'Normal', clinical: 'Normal.', mech: '-', prog: 'Sehat.' },
                3: {
                    name: 'SINDROM EDWARDS', karyo: '47, XX, +18', severe: 90, exp: '< 1 Tahun',
                    clinical: 'Ciri khas: Berat lahir rendah, kepala kecil memanjang, <strong>Rocker-bottom feet</strong> (kaki kursi goyang), dan tangan mengepal dengan jari tumpang tindih.',
                    mech: 'Trisomi autosom kedua tersering setelah Down Syndrome.',
                    prog: 'Hanya 5-10% yang bertahan hidup lebih dari 1 tahun. Kematian biasanya disebabkan oleh henti napas sentral (apnea).'
                }
            },
            '21': { // DOWN
                1: { name: 'MONOSOMI 21', severe: 100, exp: 'Lethal', clinical: 'Sangat jarang bertahan hidup.', mech: '-', prog: 'Abortus.' },
                2: { name: 'NORMAL', severe: 0, exp: 'Normal', clinical: 'Normal.', mech: '-', prog: 'Sehat.' },
                3: {
                    name: 'SINDROM DOWN', karyo: '47, XX, +21', severe: 40, exp: '~60 Tahun',
                    clinical: 'Kelainan kromosom paling umum yang kompatibel dengan kehidupan. Gejala: Wajah datar (mongoloid), mata sipit ke atas, lidah menonjol, dan hipotonia (otot lemah).',
                    mech: 'Non-disjunction (95%) atau <span class="citation" data-ref="Perpindahan segmen kromosom ke kromosom lain (biasanya 14 ke 21).">Translokasi Robertsonian</span> (4%).',
                    prog: 'Harapan hidup kini baik dengan perawatan medis. Risiko penyakit jantung bawaan dan Alzheimer dini.'
                }
            },
            'X': { // SEX CHROMOSOME
                1: {
                    name: 'SINDROM TURNER', karyo: '45, X0', severe: 20, exp: 'Normal',
                    clinical: 'Satu-satunya monosomi yang bisa hidup. Wanita dengan perawakan pendek, leher bersayap (webbed neck), dan ovarium tidak berkembang (infertil).',
                    mech: 'Hilangnya satu kromosom X (biasanya dari sperma ayah). Tidak berkaitan dengan usia ibu.',
                    prog: 'Hidup normal dengan terapi hormon pertumbuhan dan estrogen.'
                },
                2: { name: 'NORMAL WANITA', severe: 0, exp: 'Normal', clinical: 'Normal.', mech: '-', prog: 'Sehat.' },
                3: {
                    name: 'SINDROM TRIPLE X', karyo: '47, XXX', severe: 10, exp: 'Normal',
                    clinical: 'Wanita super (Super Female). Seringkali tanpa gejala fisik yang jelas. Mungkin lebih tinggi dari rata-rata dan risiko keterlambatan bicara ringan.',
                    mech: 'Non-disjunction kromosom X maternal.',
                    prog: 'Sangat baik. Kesuburan biasanya normal.'
                }
            }
        };

        // --- SVG CHROMOSOME GENERATOR ---
        function getChromoSVG(color, animationClass) {
            return `
            <svg class="w-16 h-32 md:w-24 md:h-48 chromo-svg ${animationClass}" viewBox="0 0 100 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M35 10C35 10 55 10 55 30C55 50 45 70 45 90C45 95 55 95 55 90C55 70 65 50 65 30C65 10 45 10 45 10" stroke="${color}" stroke-width="12" stroke-linecap="round" class="opacity-50"/>
                <path d="M35 190C35 190 55 190 55 170C55 150 45 120 45 100C45 95 55 95 55 100C55 120 65 150 65 170C65 190 45 190 45 190" stroke="${color}" stroke-width="12" stroke-linecap="round"/>
                <circle cx="50" cy="95" r="8" fill="white" filter="drop-shadow(0 0 5px white)"/>
                <path d="M40 40H60 M38 60H62 M40 140H60 M42 160H58" stroke="black" stroke-width="2" opacity="0.3"/>
            </svg>
            `;
        }

        // --- STATE ---
        let state = { chromo: '21', copy: 2 };

        function setChromo(c) {
            state.chromo = c;
            document.querySelectorAll('[id^="btn-c-"]').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-c-${c}`).classList.add('active');
        }

        function setCopy(n) {
            state.copy = n;
            document.querySelectorAll('[id^="btn-n-"]').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-n-${n}`).classList.add('active');
        }

        // --- MAIN SEQUENCE ---
        function runSimulation() {
            const loader = document.getElementById('loader');
            const stage = document.getElementById('chromo-stage');
            const report = document.getElementById('report-card');
            const monitor = document.getElementById('monitor-panel');
            const scanLine = document.getElementById('scan-line');
            const alertMsg = document.getElementById('alert-msg');

            // 1. Start Loading (Mitosis Animation)
            loader.classList.remove('hidden');
            loader.classList.add('flex');
            report.classList.add('hidden');
            monitor.classList.add('hidden');
            stage.innerHTML = ''; // Clear
            alertMsg.classList.add('hidden');

            // 2. Process Data
            setTimeout(() => {
                loader.classList.add('hidden');
                loader.classList.remove('flex');

                renderChromosomes();
                scanLine.classList.remove('hidden'); // Start scanning effect

                // 3. Reveal Results after scan
                setTimeout(() => {
                    showReport();
                    scanLine.classList.add('hidden');
                    if (state.copy !== 2) alertMsg.classList.remove('hidden');
                }, 1500);

            }, 2000); // 2 seconds mitosis
        }

        function renderChromosomes() {
            const stage = document.getElementById('chromo-stage');
            const data = database[state.chromo][state.copy];
            let html = '';

            // Determine Color & Animation
            let color = '#00f0ff'; // Normal Cyan
            let anim = 'animate-float';

            if (state.copy === 3) {
                color = (state.chromo === '1' || state.chromo === '3') ? '#ff2a6d' : '#d600ff'; // Red for Lethal, Purple for Syndrome
                anim = 'animate-jitter';
            } else if (state.copy === 1) {
                color = '#ffae00'; // Amber
                anim = 'animate-pulse-fast opacity-50';
            }

            // Generate Copies
            for (let i = 0; i < state.copy; i++) {
                // Add slight delay for natural feel
                // If Trisomy lethal, make them look scary/red
                html += getChromoSVG(color, anim);
            }
            stage.innerHTML = html;
        }

        function showReport() {
            const data = database[state.chromo][state.copy];
            const report = document.getElementById('report-card');
            const monitor = document.getElementById('monitor-panel');

            // Fill Report
            document.getElementById('syn-name').innerText = data.name;
            document.getElementById('syn-karyotype').innerText = data.karyo || `N/A`;
            document.getElementById('syn-class').innerText = data.class || 'UNKNOWN';

            document.getElementById('desc-clinical').innerHTML = data.clinical;
            document.getElementById('desc-mech').innerHTML = data.mech;
            document.getElementById('desc-prog').innerHTML = data.prog;

            // Fill Monitor
            document.getElementById('lethality-val').innerText = data.severe + '%';
            document.getElementById('lethality-bar').style.width = data.severe + '%';
            document.getElementById('life-exp').innerText = data.exp;
            document.getElementById('mut-type').innerText = state.copy === 2 ? 'Normal' : (state.copy === 1 ? 'Monosomy' : 'Trisomy');

            // Monitor Color Logic
            const bar = document.getElementById('lethality-bar');
            if (data.severe > 80) bar.classList.replace('bg-bio-cyan', 'bg-bio-alert') || bar.classList.add('bg-bio-alert');
            else bar.classList.replace('bg-bio-alert', 'bg-bio-cyan') || bar.classList.add('bg-bio-cyan');

            // Reveal
            report.classList.remove('hidden');
            monitor.classList.remove('hidden');

            // Scroll
            report.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>

</html>