<!DOCTYPE html>
<html lang="id" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEN-K: Ultimate Karyotype Simulator</title>

    <!-- Tailwind CDN (Prototyping/Dev Build Only) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@400;700;900&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="min-h-screen p-4 pb-20 font-sans selection:bg-bio-cyan selection:text-black">

    <header class="max-w-7xl mx-auto flex justify-between items-end mb-8 pt-4 border-b border-gray-800 pb-4 no-print">
        <div>
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-bio-alert rounded-full animate-pulse"></div>
                <h1 class="text-4xl font-display font-bold text-white tracking-tighter">GEN-<span class="text-bio-cyan">K</span> <span class="text-sm text-gray-500 font-mono">ULTIMATE</span></h1>
            </div>
            <p class="text-xs text-bio-purple font-mono mt-1 tracking-[0.4em] uppercase">Digital Karyotyping System v5.0</p>
        </div>
        <div class="text-right font-mono text-[10px] text-gray-500 hidden sm:block">
            <p>CONNECTED TO: <span class="text-bio-cyan">LAB-SERVER-01</span></p>
            <p>DATABASE: <span class="text-bio-cyan">HUMAN_GENOME_HG38</span></p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8">

        <div class="lg:col-span-4 space-y-6">
            <div class="glass-panel rounded-none border-l-4 border-bio-cyan p-6 relative group no-print">
                <div class="absolute right-0 top-0 p-2 opacity-20 group-hover:opacity-100 transition text-bio-cyan font-display text-6xl font-bold pointer-events-none">01</div>

                <div class="mb-8">
                    <label class="text-[10px] text-gray-400 font-mono mb-3 block uppercase">Target Autosome / Gonosome</label>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="setChromo('1')" id="btn-c-1" class="tech-btn py-3 font-bold font-display" style="--color: #ff2a6d; --glow: rgba(255, 42, 109, 0.3)">CHR 1</button>
                        <button onclick="setChromo('3')" id="btn-c-3" class="tech-btn py-3 font-bold font-display" style="--color: #ff2a6d; --glow: rgba(255, 42, 109, 0.3)">CHR 3</button>
                        <button onclick="setChromo('13')" id="btn-c-13" class="tech-btn py-3 font-bold font-display" style="--color: #ffae00; --glow: rgba(255, 174, 0, 0.3)">CHR 13</button>
                        <button onclick="setChromo('18')" id="btn-c-18" class="tech-btn py-3 font-bold font-display" style="--color: #ffae00; --glow: rgba(255, 174, 0, 0.3)">CHR 18</button>
                        <button onclick="setChromo('21')" id="btn-c-21" class="tech-btn py-3 font-bold font-display active" style="--color: #00f0ff; --glow: rgba(0, 240, 255, 0.3)">CHR 21</button>
                        <button onclick="setChromo('X')" id="btn-c-X" class="tech-btn py-3 font-bold font-display" style="--color: #d600ff; --glow: rgba(214, 0, 255, 0.3)">SEX (X)</button>
                    </div>
                </div>

                <div class="mb-8">
                    <label class="text-[10px] text-gray-400 font-mono mb-3 block uppercase">Allele Count (Ploidy)</label>
                    <div class="flex gap-1 bg-gray-900 p-1 border border-gray-800">
                        <button onclick="setCopy(1)" id="btn-n-1" class="tech-btn flex-1 py-2 text-sm font-bold font-mono" style="--color: #ffae00; --glow: rgba(255, 174, 0, 0.3)">1 (MONO)</button>
                        <button onclick="setCopy(2)" id="btn-n-2" class="tech-btn flex-1 py-2 text-sm font-bold font-mono active" style="--color: #00f0ff; --glow: rgba(0, 240, 255, 0.3)">2 (DI)</button>
                        <button onclick="setCopy(3)" id="btn-n-3" class="tech-btn flex-1 py-2 text-sm font-bold font-mono" style="--color: #ff2a6d; --glow: rgba(255, 42, 109, 0.3)">3 (TRI)</button>
                    </div>
                </div>

                <button onclick="runSimulation()" class="w-full py-4 bg-bio-cyan text-black font-bold font-display text-lg hover:bg-white transition shadow-[0_0_30px_rgba(0,240,255,0.4)] tracking-widest clip-path-slant">
                    INITIATE SCAN
                </button>
            </div>

            <div id="monitor-panel" class="glass-panel p-6 hidden">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-[10px] font-mono text-gray-500">LETHALITY INDEX</span>
                    <span id="lethality-val" class="text-2xl font-display font-bold text-bio-alert">0%</span>
                </div>
                <div class="w-full h-2 bg-gray-800 overflow-hidden">
                    <div id="lethality-bar" class="h-full bg-bio-alert w-0 transition-all duration-1000 relative">
                        <div class="absolute inset-0 bg-white/30 animate-pulse"></div>
                    </div>
                </div>
                <div class="mt-4 grid grid-cols-2 gap-4">
                    <div>
                        <p class="text-[10px] text-gray-500 font-mono">LIFE EXPECTANCY</p>
                        <p id="life-exp" class="text-sm font-bold text-white">Unknown</p>
                    </div>
                    <div>
                        <p class="text-[10px] text-gray-500 font-mono">MUTATION TYPE</p>
                        <p id="mut-type" class="text-sm font-bold text-bio-cyan">Aneuploidy</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="lg:col-span-8 space-y-6">

            <div class="glass-panel p-1 relative h-[400px] border border-gray-800 overflow-hidden">
                <div id="loader" class="absolute inset-0 z-50 bg-black flex flex-col items-center justify-center hidden">
                    <div class="cell-division mb-6">
                        <div class="cell-nucleus"></div>
                    </div>
                    <div class="text-bio-cyan font-display tracking-widest animate-pulse">MITOSIS IN PROGRESS</div>
                    <div class="text-xs text-gray-600 font-mono mt-2">Separating Sister Chromatids...</div>
                </div>

                <div id="microscope" class="w-full h-full bg-black relative flex items-center justify-center overflow-hidden">
                    <div class="absolute inset-0 grid grid-cols-12 grid-rows-6 opacity-10 pointer-events-none">
                        <div class="border border-bio-cyan/20 w-full h-full col-span-12 row-span-6"></div>
                    </div>
                    <div class="scan-line hidden" id="scan-line"></div>

                    <div id="chromo-stage" class="flex gap-8 md:gap-16 z-10 relative"></div>

                    <div class="absolute top-4 left-4 text-[10px] font-mono text-bio-cyan/50">ZOOM: 2000x<br>STAIN: GIEMSA</div>
                    <div class="absolute bottom-4 right-4 text-[10px] font-mono text-bio-alert animate-pulse hidden" id="alert-msg">âš  KARYOTYPE ABNORMALITY DETECTED</div>
                </div>
                <div class="microscope-lens absolute inset-0 pointer-events-none"></div>
            </div>

            <div id="report-card" class="glass-panel p-8 hidden border-t-2 border-bio-cyan">
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <h2 class="text-3xl font-display font-bold text-white mb-1" id="syn-name">ANALYSIS READY</h2>
                        <p class="text-xs font-mono text-bio-purple" id="syn-karyotype">46, XX</p>
                    </div>
                    <div class="text-right">
                        <span class="text-[10px] font-mono text-gray-500 block">CLASSIFICATION</span>
                        <span class="text-lg font-bold text-white" id="syn-class">AUTOSOMAL</span>
                    </div>
                </div>

                <div class="space-y-6 font-sans text-sm text-gray-300 leading-relaxed">
                    <div>
                        <h4 class="text-bio-cyan font-bold text-xs tracking-widest mb-2">DIAGNOSA KLINIS</h4>
                        <p id="desc-clinical">...</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-bio-warn font-bold text-xs tracking-widest mb-2">MEKANISME MUTASI</h4>
                            <p id="desc-mech">...</p>
                        </div>
                        <div>
                            <h4 class="text-bio-alert font-bold text-xs tracking-widest mb-2">PROGNOSIS & DAMPAK</h4>
                            <p id="desc-prog">...</p>
                        </div>
                    </div>
                </div>

                <div class="mt-8 pt-4 border-t border-gray-800 flex justify-between items-center text-[10px] font-mono text-gray-600">
                    <span>REF: THOMPSON & THOMPSON GENETICS, ED.8</span>
                    <span>APPROVED BY: DR. GEN-K AI</span>
                </div>
            </div>

        </div>
    </main>

    <!-- Main Logic -->
    <script src="js/script.js"></script>
</body>

</html>
